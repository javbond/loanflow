server:
  port: 8083

spring:
  application:
    name: document-service

  data:
    mongodb:
      uri: mongodb://loanflow:loanflow_secret@localhost:27017/document_db?authSource=admin
      auto-index-creation: true

  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 15MB

  rabbitmq:
    host: localhost
    port: 5672
    username: loanflow
    password: loanflow_secret

  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://localhost:8180/realms/loanflow
          jwk-set-uri: http://localhost:8180/realms/loanflow/protocol/openid-connect/certs

# MinIO Configuration
minio:
  endpoint: http://localhost:9000
  access-key: minioadmin
  secret-key: minioadmin
  bucket: loanflow-documents

# Document Configuration
document:
  max-file-size: 10485760  # 10MB in bytes
  allowed-types:
    - application/pdf
    - image/jpeg
    - image/png
    - image/tiff
    - application/msword
    - application/vnd.openxmlformats-officedocument.wordprocessingml.document
  presigned-url-expiry-minutes: 15

# Actuator
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: when_authorized

# OpenAPI
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    oauth:
      client-id: loanflow-swagger

logging:
  level:
    com.loanflow: DEBUG
    org.springframework.data.mongodb: DEBUG
